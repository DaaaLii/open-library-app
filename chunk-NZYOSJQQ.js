import{f as i,i as n,m as s,p as a,pa as l,qa as p}from"./chunk-MFVN2OO6.js";var u={production:!1,openLibraryBaseUrl:"https://openlibrary.org",coversBaseUrl:"https://covers.openlibrary.org/b/id"};var f=class o{constructor(t){this.http=t}baseUrl=u.openLibraryBaseUrl;getBooksList(t=100,r=0){let e=new l().set("limit",String(t)).set("offset",String(r));return this.http.get(`${this.baseUrl}/subjects/computers.json`,{params:e}).pipe(n(()=>i({works:[],work_count:0})))}getBookById(t){let r=(t??"").trim();return this.http.get(`${this.baseUrl}/works/${r}.json`).pipe(n(()=>i(null)))}mapWorkToBook(t){return{key:String(t?.key??""),title:String(t?.title??""),edition_count:Number(t?.edition_count??0),cover_id:Number(t?.cover_id??0),first_publish_year:Number(t?.first_publish_year??0)}}extractWorkId(t){if(!t)return"";let r=t.split("/").filter(Boolean);return r[r.length-1]??""}normalizeDescription(t){return t?typeof t=="string"?t:typeof t=="object"&&typeof t.value=="string"?t.value:"":""}filterByTitle(t,r){let e=(r??"").trim().toLowerCase();return e?t.filter(m=>(m.title??"").toLowerCase().includes(e)):t}filterByYear(t,r){return r==null||Number.isNaN(r)?t:t.filter(e=>Number(e.first_publish_year)===Number(r))}static \u0275fac=function(r){return new(r||o)(a(p))};static \u0275prov=s({token:o,factory:o.\u0275fac,providedIn:"root"})};export{u as a,f as b};
